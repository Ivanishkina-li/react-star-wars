(this["webpackJsonpreact-star-wars"]=this["webpackJsonpreact-star-wars"]||[]).push([[0],[,,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return _}));var a="https://",c="http://",r="https://swapi.dev/api/",s="people",i="/?page=",o=r+s+i,l=r+s,u=r+s+"/?search=",j=".jpg",_="https://starwars-visualguide.com/assets/img/characters"},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(7),c=n.n(a),r=n(14),s=n(5),i=function(e){return e?e.replace(s.e,s.f):e},o=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return fetch(e).then((function(e){return e.json()}))})));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(" \u041e\u0448\u0438\u0431\u043a\u0430 ".concat(n.status));case 6:return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.error("could not fetch",e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){e.exports={container:"ChooseSide_container__3-0oY",item:"ChooseSide_item__AUwMw",item__header:"ChooseSide_item__header__AvLzn",item__img:"ChooseSide_item__img__2yb_Y",item__light:"ChooseSide_item__light__3U7jK",item__dark:"ChooseSide_item__dark__Di3SE",item__neitral:"ChooseSide_item__neitral__1NUub"}},,,function(e,t,n){e.exports={list__container:"SearchPageInfo_list__container__1m8W4",list__item:"SearchPageInfo_list__item__3PGUm",person__photo:"SearchPageInfo_person__photo__3LlS_",person__name:"SearchPageInfo_person__name__2WhpE",person__comment:"SearchPageInfo_person__comment__SBDgJ"}},,,function(e,t,n){e.exports={wrapper:"PersonInfo_wrapper__2JvFf",list__container:"PersonInfo_list__container__3G4Nj",list__item:"PersonInfo_list__item__253yA",item__title:"PersonInfo_item__title__285Md"}},function(e,t,n){e.exports={wrapper__input:"UIInput_wrapper__input__1cHZC",input:"UIInput_input__RIvXs",clear:"UIInput_clear__2J0la",clear__disabled:"UIInput_clear__disabled__Fn8Ka"}},,,,,,function(e,t,n){e.exports={container:"Favorite_container__t0-g4",icon:"Favorite_icon__2P8pe",counter:"Favorite_counter__3-i1e"}},function(e,t,n){e.exports={container:"Header_container__blWyx",logo:"Header_logo__2mAeA",list__container:"Header_list__container__1jPE_"}},function(e,t,n){e.exports={container:"PeopleNavigation_container__2Xlqx",buttons:"PeopleNavigation_buttons__2br7D"}},function(e,t,n){e.exports={container:"PersonPhoto_container__2NZrO",photo:"PersonPhoto_photo__3OFAZ",favorite:"PersonPhoto_favorite__3bHWy"}},function(e,t,n){e.exports={wrapper:"PersonPage_wrapper__3ZJbr",person__name:"PersonPage_person__name__2huEk",container:"PersonPage_container__GPxFT"}},,,,,,,function(e,t,n){e.exports={text:"ErrorMessage_text__2Zl5K",video:"ErrorMessage_video__2AnV8"}},function(e,t,n){e.exports={button:"UIButton_button__2Jl1g",dark:"UIButton_dark__spTXh",light:"UIButton_light__iFVbc"}},function(e,t,n){e.exports={img:"NotFoundPage_img__6Lz4l",text:"NotFoundPage_text__1MCSB"}},function(e,t,n){e.exports={loader:"UIloading_loader__1OR1V",shadow:"UIloading_shadow__3QQmC"}},function(e,t,n){e.exports={link:"PersonLinkBack_link__2aOIV",link__img:"PersonLinkBack_link__img__12pGM"}},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={input__search:"SearchPage_input__search__2IUYv"}},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(24),s=n.n(r),i=n(12),o=n(28),l=n(13),u=n(27),j="ADD_PERSON_TO_FAVOURITE",_="REMOVE_PERSON_FROM_FAVOURITE",b={},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),t.payload);case _:return Object(u.omit)(e,[t.payload]);default:return e}},p=Object(o.a)({favouriteReducer:d}),h=Object(o.b)(p);h.subscribe((function(){console.log(h.getState().favouriteReducer)}));var m=h,f=n(2),O=n(53),x=n(0),g="light",v="dark",N="neitral",k=c.a.createContext(),P=function(e){var t=e.children,n=Object(O.a)(e,["children"]),c=Object(a.useState)(null),r=Object(f.a)(c,2),s=r[0],i=r[1];return Object(x.jsx)(k.Provider,Object(l.a)(Object(l.a)({value:{theme:s,change:function(e){i(e),function(e){var t=document.querySelector(":root");["header","bgimage"].forEach((function(n){t.style.setProperty("--theme-default-".concat(n),"var(--theme-".concat(e,"-").concat(n,")"))}))}(e)}}},n),{},{children:t}))},S=function(){return Object(a.useContext)(k)},w=(n(65),n(66),n(6)),F=n(29),I=n.n(F),y=n.p+"static/media/bookmark.99f7fd3d.svg",E=function(){var e=Object(a.useState)(),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(i.c)((function(e){return e.favouriteReducer}));return Object(a.useEffect)((function(){var e=Object.keys(r).length;c(e)})),Object(x.jsx)("div",{className:I.a.container,children:Object(x.jsxs)(w.a,{to:"/favourites",children:[Object(x.jsx)("span",{className:I.a.counter,children:n}),Object(x.jsx)("img",{className:I.a.icon,src:y,alt:"Favorites"})]})})},C=n(30),R=n.n(C),U=n.p+"static/media/droid.e59cd9ff.svg",A=n.p+"static/media/lightsaber.eb7d4cd6.svg",B=n.p+"static/media/space-station.7a027c6e.svg",L=function(){var e=Object(a.useState)(B),t=Object(f.a)(e,2),n=t[0],c=t[1],r=S();return Object(a.useEffect)((function(){switch(r.theme){case g:c(A);break;case v:c(B);break;case N:c(U);break;default:c(B)}}),[r]),Object(x.jsxs)("div",{className:R.a.container,children:[Object(x.jsx)("img",{className:R.a.logo,src:n,alt:"icon"}),Object(x.jsxs)("ul",{className:R.a.list__container,children:[Object(x.jsx)("li",{children:Object(x.jsx)(w.b,{to:"/",exact:!0,children:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)(w.b,{to:"/people/?page=1",children:"People"})}),Object(x.jsx)("li",{children:Object(x.jsx)(w.b,{to:"/not-found",exact:!0,children:"Not Found"})}),Object(x.jsx)("li",{children:Object(x.jsx)(w.b,{to:"/search",exact:!0,children:"Search"})}),Object(x.jsx)("li",{children:Object(x.jsx)(w.b,{to:"/fail",exact:!0,children:"Fail"})})]}),Object(x.jsx)(E,{})]})},H=n(34),M=n(11),D=n.n(M),J=n.p+"static/media/light-side.eebc5217.jpg",V=n.p+"static/media/dark-side.e0f8cab7.jpg",T=n.p+"static/media/falcon.c1d0a8d1.jpg",G=n(16),W=n.n(G),Z=function(e){var t=e.classes,n=e.theme,a=e.text,c=e.img,r=S();return Object(x.jsxs)("div",{className:D()(W.a.item,t),onClick:function(){return r.change(n)},children:[Object(x.jsx)("div",{className:W.a.item__header,children:a}),Object(x.jsx)("img",{className:W.a.item__img,src:c,alt:a})]})},z=function(){var e=[{theme:g,text:"Light Side",img:J,classes:W.a.item__light},{theme:v,text:"Dark Side",img:V,classes:W.a.item__dark},{theme:N,text:"I'm Han Solo",img:T,classes:W.a.item__neitral}];return Object(x.jsx)("div",{className:W.a.container,children:e.map((function(e,t){var n=e.theme,a=e.text,c=e.img,r=e.classes;return Object(x.jsx)(Z,{theme:n,text:a,img:c,classes:r},t)}))})},K=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"header__text",children:"Home Page"}),Object(x.jsx)(z,{})]})},X=n(7),Y=n.n(X),q=n(14),Q=n(40),$=n.n(Q),ee=n(50),te=n.n(ee),ne=function(e){var t=e.src,n=e.playbackRate,c=e.classes,r=Object(a.useRef)(null);return Object(a.useEffect)((function(){r.current.playbackRate=n}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("video",{loop:!0,autoPlay:!0,muted:!0,className:D()(te.a.video,c),ref:r,playbackRate:n,src:t,children:Object(x.jsx)("source",{})})})},ae=n.p+"static/media/han-solo.db435084.mp4",ce=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{className:$.a.text,children:["The dark side of the force has won.",Object(x.jsx)("br",{}),"We cannot display data.",Object(x.jsx)("br",{}),"Come back when we fix everything"]}),Object(x.jsx)(ne,{src:ae,classes:$.a.video,playbackRate:1})]})},re=function(e){return function(t){var n=Object(a.useState)(!1),c=Object(f.a)(n,2),r=c[0],s=c[1];return Object(x.jsxs)(x.Fragment,{children:[" ",r?Object(x.jsx)(ce,{}):Object(x.jsx)(e,Object(l.a)({setErrorApi:s},t))]})}},se=n(15),ie=n(5),oe=function(e){var t=e.lastIndexOf(ie.g),n=e.slice(t+ie.g.length);return Number(n)},le=function(e){return function(e,t){return e.replace(ie.i+t,"").replace(/\//g,"")}(e,ie.h)},ue=function(e){return"".concat(ie.j,"/").concat(e+ie.d)},je=(n(72),function(e){var t=e.people;return Object(x.jsx)("ul",{className:"list__container",children:t.map((function(e){var t=e.id,n=e.name,a=e.img;return Object(x.jsx)("li",{className:"list__item",children:Object(x.jsxs)(w.a,{to:"/people/".concat(t),children:[Object(x.jsx)("img",{className:"person__photo",src:a,alt:n}),Object(x.jsx)("p",{children:n})]})},t)}))})}),_e=n(3),be=n(31),de=n.n(be),pe=n(41),he=n.n(pe),me=(n(73),function(e){var t=e.text,n=e.onClick,a=e.disabled,c=e.theme,r=void 0===c?"dark":c;return Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)("button",{onClick:n,disabled:a,className:D()(he.a.button,he.a[r]),children:t})]})}),fe=function(e){var t=e.getResource,n=e.prevPage,a=e.nextPage,c=e.counterPage;return Object(x.jsxs)("div",{className:de.a.container,children:[Object(x.jsx)(w.a,{to:"/people/?page=".concat(c-1),className:de.a.buttons,children:Object(x.jsx)(me,{text:"previous",onClick:function(){t(n)},disabled:!n,theme:"light"})}),Object(x.jsx)(w.a,{to:"/people/?page=".concat(c+1),className:de.a.buttons,children:Object(x.jsx)(me,{text:"next",onClick:function(){t(a)},disabled:!a})})]})},Oe=(n(74),re((function(e){var t=e.setErrorApi,n=Object(a.useState)(0),c=Object(f.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(0),o=Object(f.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)(0),_=Object(f.a)(j,2),b=_[0],d=_[1],p=Object(a.useState)(1),h=Object(f.a)(p,2),m=h[0],O=h[1],g=new URLSearchParams(Object(_e.useLocation)().search).get("page"),v=function(){var e=Object(q.a)(Y.a.mark((function e(n){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.b)(n);case 2:(a=e.sent)?(c=a.results.map((function(e){var t=e.name,n=e.url,a=le(n);return{id:a,name:t,img:ue(a)}})),s(c),d(Object(se.a)(a.next)),u(Object(se.a)(a.previous)),O(oe(n)),t(!1)):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v(ie.a+g)}),[g]),Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(fe,{getResource:v,prevPage:l,nextPage:b,counterPage:m}),r&&Object(x.jsx)(je,{people:r})]})}))),xe=n(42),ge=n.n(xe),ve=n.p+"static/media/not-found.1062f5e4.jpg",Ne=function(){var e=Object(_e.useLocation)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{className:ge.a.img,src:ve,alt:"not found"}),Object(x.jsxs)("p",{className:ge.a.text,children:["No match for ",Object(x.jsx)("u",{children:e.pathname})]})]})},ke=n(43),Pe=n.n(ke),Se=n.p+"static/media/loader-white.3b2c7a4d.svg",we=n.p+"static/media/loader-black.e08f8176.svg",Fe=n.p+"static/media/loader-blue.a228a216.svg",Ie=function(e){var t=e.theme,n=void 0===t?"white":t,c=e.isShadow,r=void 0===c||c,s=e.classes,i=Object(a.useState)(null),o=Object(f.a)(i,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){switch(n){case"black":default:u(we);break;case"white":u(Se);break;case"blue":u(Fe)}}),[]),Object(x.jsx)("img",{className:D()(Pe.a.loader,r&&Pe.a.shadow,s),src:l,alt:"Loader"})},ye=n(44),Ee=n.n(ye),Ce=n.p+"static/media/back.d2aea9fb.svg",Re=function(){var e=Object(_e.useHistory)();return Object(x.jsxs)("a",{href:"#",onClick:function(t){t.preventDefault(),e.goBack()},className:Ee.a.link,children:[Object(x.jsx)("img",{className:Ee.a.link__img,src:Ce,alt:"go back"}),Object(x.jsx)("span",{children:"Go Back"})]})},Ue=n(22),Ae=n.n(Ue),Be=function(e){var t=e.personInfo;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:Ae.a.wrapper,children:Object(x.jsx)("ul",{className:Ae.a.list__container,children:t.map((function(e){var t=e.title,n=e.data;return n&&Object(x.jsxs)("li",{className:Ae.a.list__item,children:[Object(x.jsx)("span",{className:Ae.a.item__title,children:t}),": ",n]},t)}))})})})},Le=n(26),He=n.p+"static/media/favorite.b44185b1.svg",Me=n.p+"static/media/favorite-fill.5d1c9de7.svg",De=n(32),Je=n.n(De),Ve=function(e){var t=e.personPhoto,n=e.personName,a=e.personId,c=e.personFavourite,r=e.setPersonFavourite,s=Object(i.b)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:Je.a.container,children:[Object(x.jsx)("img",{className:Je.a.photo,src:t,alt:n}),Object(x.jsx)("img",{src:c?Me:He,onClick:function(){var e;c?(s(function(e){return{type:_,payload:e}}(a)),r(!1)):(s((e=Object(Le.a)({},a,{name:n,img:t}),{type:j,payload:e})),r(!0))},className:Je.a.favorite,alt:"Add to favorite"})]})})},Te=n(33),Ge=n.n(Te),We=c.a.lazy((function(){return n.e(3).then(n.bind(null,77))})),Ze=re((function(e){var t=e.match,n=e.setErrorApi,c=Object(a.useState)(null),r=Object(f.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(null),u=Object(f.a)(l,2),j=u[0],_=u[1],b=Object(a.useState)(null),d=Object(f.a)(b,2),p=d[0],h=d[1],m=Object(a.useState)(null),O=Object(f.a)(m,2),g=O[0],v=O[1],N=Object(a.useState)(null),k=Object(f.a)(N,2),P=k[0],S=k[1],w=Object(a.useState)(!1),F=Object(f.a)(w,2),I=F[0],y=F[1],E=Object(i.c)((function(e){return e.favouriteReducer}));return Object(a.useEffect)((function(){Object(q.a)(Y.a.mark((function e(){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params.id,e.next=3,Object(se.b)("".concat(ie.b,"/").concat(a,"/"));case 3:c=e.sent,console.log("".concat(ie.b,"/").concat(a,"/"),c),o(a),E[a]?y(!0):y(!1),c?(_([{title:"height",data:c.height},{title:"weight",data:c.mass},{title:"hair color",data:c.hair_color},{title:"eye color",data:c.eye_color},{title:"birth",data:c.birth_year}]),v(ue(a)),h(c.name),c.films.length&&S(c.films),console.log(c.films),n(!1)):n(!0);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Re,{}),Object(x.jsxs)("div",{className:Ge.a.wrapper,children:[Object(x.jsx)("span",{className:Ge.a.person__name,children:p}),Object(x.jsxs)("div",{className:Ge.a.container,children:[Object(x.jsx)(Ve,{personId:s,personPhoto:g,personName:p,personFavourite:I,setPersonFavourite:y}),j&&Object(x.jsx)(Be,{personInfo:j}),P&&Object(x.jsx)(a.Suspense,{fallback:Object(x.jsx)(Ie,{}),children:Object(x.jsx)(We,{personFilms:P})})]})]})]})})),ze=n(51),Ke=n.n(ze),Xe=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(i.c)((function(e){return e.favouriteReducer}));return Object(a.useEffect)((function(){var e=Object.entries(r);if(e.length){var t=e.map((function(e){return Object(l.a)({id:e[0]},e[1])}));console.log(t),c(t)}}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"header__text",children:"Favorites"}),n.length?Object(x.jsx)(je,{people:n}):Object(x.jsx)("h2",{className:Ke.a.comment,children:"No data"})]})},Ye=n(52),qe=n.n(Ye),Qe=n(23),$e=n.n(Qe),et=n.p+"static/media/cancel.00e5d25a.svg",tt=function(e){var t=e.handleInputChange,n=e.value,a=e.placeholder,c=e.classes;return Object(x.jsxs)("div",{className:D()($e.a.wrapper__input,c),children:[Object(x.jsx)("input",{type:"text",value:n,onChange:function(e){return t(e.target.value)},placeholder:a,className:$e.a.input}),Object(x.jsx)("img",{onClick:function(){return n&&t("")},src:et,alt:"clear",className:D()($e.a.clear,!n&&$e.a.clear__disabled)})]})},nt=n(19),at=n.n(nt),ct=function(e){var t=e.people;return Object(x.jsx)(x.Fragment,{children:t.length?Object(x.jsx)("ul",{className:at.a.list__container,children:t.map((function(e){var t=e.id,n=e.name,a=e.img;return Object(x.jsx)("li",{className:at.a.list__item,children:Object(x.jsxs)(w.a,{to:"/people/".concat(t),children:[Object(x.jsx)("img",{className:at.a.person__photo,src:a,alt:n}),Object(x.jsx)("p",{className:at.a.person__name,children:n})]})},t)}))}):Object(x.jsx)("h2",{className:at.a.person__comment,children:"No results"})})},rt=re((function(e){var t=e.setErrorApi,n=Object(a.useState)([]),c=Object(f.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(f.a)(i,2),l=o[0],j=o[1],_=function(){var e=Object(q.a)(Y.a.mark((function e(n){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,Object(se.b)(ie.c+n);case 3:(a=e.sent)?(c=a.results.map((function(e){var t=e.name,n=e.url,a=le(n);return{id:a,name:t,img:ue(a)}})),s(c),console.log(a),t(!1)):t(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_("")}),[]);var b=Object(a.useCallback)(Object(u.debounce)((function(e){return _(e)}),400),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"",children:"Search"}),Object(x.jsx)(tt,{handleInputChange:function(e){j(e),b(e)},value:l,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",classes:qe.a.input__search}),Object(x.jsx)(ct,{people:r})]})})),st=[{path:"/",exact:!0,component:K},{path:"/fail",exact:!0,component:ce},{path:"/people",exact:!0,component:Oe},{path:"/people/:id",exact:!0,component:Ze},{path:"/not-found",exact:!0,component:Ne},{path:"/favourites",exact:!0,component:Xe},{path:"/search",exact:!0,component:rt},{path:"*",exact:!1,component:Ne}],it=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(H.BrowserRouter,{children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)(L,{}),Object(x.jsx)(H.Switch,{children:st.map((function(e,t){return Object(x.jsx)(H.Route,{path:e.path,exact:e.exact,component:e.component},t)}))})]})})})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(i.a,{store:m,children:Object(x.jsx)(P,{children:Object(x.jsx)(it,{})})})}),document.getElementById("root"))}],[[75,1,2]]]);
//# sourceMappingURL=main.ef1fe1db.chunk.js.map